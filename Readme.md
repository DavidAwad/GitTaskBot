# GitTaskBot

This is a python app to run against your projects to make sure you don't have
any extra TODO's you haven't missed, if you have TODOs laying around or a large
codebase, you might miss something!

You can run this script and turn any of your `TODO` notes into github issues
for you to deal with on your own.

For that matter, if you don't want to use TODO, you can use any keyword you want,
and you'll get an alert about it.

## Usage
Create a `secrets.py` file and edit it with your own github credentials, (the user that will be creating the issues)

After you've set that up, you're all good. You can simply run the bot against any repo you want. 

```shell
(venv)➜  PyTaskBot git:(master) python bot.py --help
Usage: bot.py [OPTIONS]

  Small CLI to lint your code for keywords and create GitHub issues. You can
  specift a -key TODO or -key ??? and create issues for the ocurrences of any
  string.

Options:
  -key TEXT   Trigger Keyword.
  -user TEXT  The GitHub Username
  -repo TEXT  The name of the Repository
  --help      Show this message and exit.

(venv)➜  PyTaskBot git:(master) ✗ python bot.py -repo insightweets -user DavidAwad
cleaning out the .git folder
processing : local/.cfignore
processing : local/.gitignore
processing : local/app.js
processing : local/manifest.yml
processing : local/public/js/d3.v2.min.js
processing : local/public/js/demo.js
...
201
{"url":"https://api.github.com/repos/DavidAwad/insightweets/issues/8","labels_url":"https://api.github.com/repos/DavidAwad/insightweets/issues/8/labels{/name}","comments_url":"https://api.github.com/repos/DavidAwad/insightweets/issues/8/comments","events_url":"https://api.github.com/repos/DavidAwad/insightweets/issues/8/events","html_url":"https://github.com/DavidAwad/insightweets/issues/8","id":91583683,"number":8,"title":"'TODO' found on line 36 of local/public/js/demo.js","user":{"login":"DavidAwad","id":4019054,"avatar_url":"https://avatars.githubusercontent.com/u/4019054?v=3","gravatar_id":"","url":"https://api.github.com/users/DavidAwad","html_url":"https://github.com/DavidAwad","followers_url":"https://api.github.com/users/DavidAwad/followers","following_url":"https://api.github.com/users/DavidAwad/following{/other_user}","gists_url":"https://api.github.com/users/DavidAwad/gists{/gist_id}","starred_url":"https://api.github.com/users/DavidAwad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DavidAwad/subscriptions","organizations_url":"https://api.github.com/users/DavidAwad/orgs","repos_url":"https://api.github.com/users/DavidAwad/repos","events_url":"https://api.github.com/users/DavidAwad/events{/privacy}","received_events_url":"https://api.github.com/users/DavidAwad/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"milestone":null,"comments":0,"created_at":"2015-06-28T10:36:13Z","updated_at":"2015-06-28T10:36:13Z","closed_at":null,"body":"```javascript\n  /* TODO experimental feature currently has bad z index\n  $('.ui.search').search({\n      source: content\n  });\n  */\n\n```\n\nThis issue generated by [TodoBot](https://github.com/DavidAwad/todobot)\n        ","closed_by":null}
processing : local/public/js/modernizr.custom.js
processing : local/public/js/personality.js
processing : local/public/js/search.min.js
processing : local/values.json
processing : local/index.jade
processing : local/landing.jade
processing : local/layout.jade
```

# Notes
## Messing with issues
You may find it helpful to see the full formatting of a curl request to the git
api, as it was somewhat annoying to get it to actually create the damn things.

```shell

# Will return your issue as defined.
curl https://api.github.com/repos/DavidAwad/insightweets/issues/1

# Needs to authenticate you as a user, and can then create issues
curl -X POST -u DavidAwad -i -d '{ "title" :"my cool title", "body":"body of my request"}' https://api.github.com/repos/DavidAwad/insightweets/issues
```

with [requests](http://docs.python-requests.org/)
```python
requests.post('https://api.github.com/repos/DavidAwad/insightweets/issues', auth=('Github User', 'Password'), data=json.dumps({'title':'ASDF'}) ).text
```

## Resources

I couldn't have done it without this great resource for [using the github API endpoints with python](http://engineering.hackerearth.com/2014/08/21/python-requests-module/).
